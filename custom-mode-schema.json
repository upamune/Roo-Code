{
	"$ref": "#/definitions/CustomModeSchema",
	"definitions": {
		"CustomModeSchema": {
			"type": "object",
			"properties": {
				"name": {
					"type": "string",
					"minLength": 1
				},
				"roleDefinition": {
					"type": "string",
					"minLength": 1
				},
				"customInstructions": {
					"type": "string"
				},
				"groups": {
					"anyOf": [
						{
							"type": "array",
							"items": {
								"anyOf": [
									{
										"type": "string",
										"enum": ["read", "edit", "browser", "command", "mcp", "modes"]
									},
									{
										"type": "array",
										"minItems": 2,
										"maxItems": 2,
										"items": [
											{
												"type": "string",
												"enum": ["read", "edit", "browser", "command", "mcp", "modes"]
											},
											{
												"type": "object",
												"properties": {
													"fileRegex": {
														"type": "string"
													},
													"description": {
														"type": "string"
													}
												},
												"additionalProperties": false
											}
										]
									}
								]
							}
						},
						{
							"type": "object",
							"additionalProperties": {
								"anyOf": [
									{
										"type": "null"
									},
									{
										"type": "object",
										"properties": {
											"fileRegex": {
												"type": "string"
											},
											"description": {
												"type": "string"
											}
										},
										"additionalProperties": false
									}
								]
							},
							"propertyNames": {
								"enum": ["read", "edit", "browser", "command", "mcp", "modes"]
							}
						}
					],
					"default": []
				}
			},
			"required": ["name", "roleDefinition"],
			"additionalProperties": false
		}
	},
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "Roo-Code Custom Mode Schema",
	"description": "Schema for Roo-Code custom mode configuration files"
}
